<!DOCTYPE HTML>
<html lang="en" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Code Review Guidelines - OctoLLM Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Distributed AI Architecture for Offensive Security and Developer Tooling - Comprehensive technical documentation covering architecture, API, development, operations, and security.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "rust";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">OctoLLM Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/doublegate/OctoLLM" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/doublegate/OctoLLM/edit/main/docs/src/engineering/code-review.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="code-review-checklist"><a class="header" href="#code-review-checklist">Code Review Checklist</a></h1>
<p><strong>Last Updated</strong>: 2025-11-10
<strong>Status</strong>: Production Standard
<strong>Applies To</strong>: All pull requests</p>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>This document provides a comprehensive code review checklist for OctoLLM pull requests. Both authors and reviewers should use this checklist to ensure code quality, security, and maintainability.</p>
<h2 id="table-of-contents"><a class="header" href="#table-of-contents">Table of Contents</a></h2>
<ul>
<li><a href="#author-checklist">Author Checklist</a></li>
<li><a href="#reviewer-checklist">Reviewer Checklist</a></li>
<li><a href="#code-quality">Code Quality</a></li>
<li><a href="#testing">Testing</a></li>
<li><a href="#security">Security</a></li>
<li><a href="#performance">Performance</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#deployment">Deployment</a></li>
</ul>
<hr />
<h2 id="author-checklist"><a class="header" href="#author-checklist">Author Checklist</a></h2>
<h3 id="before-submitting-pr"><a class="header" href="#before-submitting-pr">Before Submitting PR</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Code compiles/runs without errors</strong></p>
<ul>
<li>Python: <code>python -m pytest</code></li>
<li>Rust: <code>cargo test</code></li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>All tests pass</strong></p>
<ul>
<li>Unit tests: ≥80% coverage for new code</li>
<li>Integration tests for new features</li>
<li>E2E tests for user-facing changes</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Linting and formatting pass</strong></p>
<ul>
<li>Python: <code>black . &amp;&amp; isort . &amp;&amp; ruff check . &amp;&amp; mypy .</code></li>
<li>Rust: <code>cargo fmt --check &amp;&amp; cargo clippy -- -D warnings</code></li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>No sensitive information committed</strong></p>
<ul>
<li>No API keys, passwords, or secrets</li>
<li>No PII or customer data</li>
<li>No internal URLs or endpoints</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Branch is up to date with main</strong></p>
<ul>
<li><code>git pull origin main</code> and resolve conflicts</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Commit messages follow conventions</strong></p>
<ul>
<li>Format: <code>type(scope): description</code></li>
<li>Types: feat, fix, docs, refactor, test, chore</li>
<li>Clear and descriptive</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Self-reviewed the code</strong></p>
<ul>
<li>Read through all changes</li>
<li>Removed debug code and comments</li>
<li>Checked for obvious issues</li>
</ul>
</li>
</ul>
<h3 id="pr-description"><a class="header" href="#pr-description">PR Description</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Clear title</strong> describing the change</p>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Description includes</strong>:</p>
<ul>
<li>What changed and why</li>
<li>Link to related issue</li>
<li>How to test the change</li>
<li>Screenshots for UI changes</li>
<li>Migration notes if needed</li>
<li>Breaking changes highlighted</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Appropriate labels</strong> applied</p>
<ul>
<li>Type: feature, bug, enhancement, etc.</li>
<li>Priority: low, medium, high, critical</li>
<li>Component: orchestrator, arm, reflex, etc.</li>
</ul>
</li>
</ul>
<hr />
<h2 id="reviewer-checklist"><a class="header" href="#reviewer-checklist">Reviewer Checklist</a></h2>
<h3 id="initial-review"><a class="header" href="#initial-review">Initial Review</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
<strong>PR size is reasonable</strong> (&lt; 500 lines preferred)</li>
<li><input disabled="" type="checkbox"/>
<strong>Title and description are clear</strong></li>
<li><input disabled="" type="checkbox"/>
<strong>Related issue exists</strong> and is linked</li>
<li><input disabled="" type="checkbox"/>
<strong>CI checks pass</strong> (tests, linting, build)</li>
<li><input disabled="" type="checkbox"/>
<strong>No conflicts</strong> with main branch</li>
</ul>
<h3 id="code-review-areas"><a class="header" href="#code-review-areas">Code Review Areas</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
<strong>Code quality</strong> (see <a href="#code-quality">Code Quality</a>)</li>
<li><input disabled="" type="checkbox"/>
<strong>Testing</strong> (see <a href="#testing">Testing</a>)</li>
<li><input disabled="" type="checkbox"/>
<strong>Security</strong> (see <a href="#security">Security</a>)</li>
<li><input disabled="" type="checkbox"/>
<strong>Performance</strong> (see <a href="#performance">Performance</a>)</li>
<li><input disabled="" type="checkbox"/>
<strong>Documentation</strong> (see <a href="#documentation">Documentation</a>)</li>
<li><input disabled="" type="checkbox"/>
<strong>Deployment</strong> (see <a href="#deployment">Deployment</a>)</li>
</ul>
<h3 id="final-steps"><a class="header" href="#final-steps">Final Steps</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
<strong>All comments addressed</strong> or discussed</li>
<li><input disabled="" type="checkbox"/>
<strong>Requested changes implemented</strong></li>
<li><input disabled="" type="checkbox"/>
<strong>Approved by required reviewers</strong> (minimum 1)</li>
<li><input disabled="" type="checkbox"/>
<strong>Ready to merge</strong></li>
</ul>
<hr />
<h2 id="code-quality"><a class="header" href="#code-quality">Code Quality</a></h2>
<h3 id="general"><a class="header" href="#general">General</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Code follows style guide</strong></p>
<ul>
<li>Python: PEP 8 compliance</li>
<li>Rust: Rust style guide compliance</li>
<li>Consistent formatting</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Names are clear and descriptive</strong></p>
<ul>
<li>Variables: <code>task_id</code> not <code>tid</code></li>
<li>Functions: <code>process_task()</code> not <code>process()</code></li>
<li>Classes: <code>TaskRouter</code> not <code>Router</code></li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Functions are focused and small</strong></p>
<ul>
<li>Single responsibility</li>
<li>&lt; 50 lines preferred</li>
<li>&lt; 100 lines maximum</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Code is DRY (Don't Repeat Yourself)</strong></p>
<ul>
<li>No duplicated logic</li>
<li>Common functionality extracted</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Complexity is reasonable</strong></p>
<ul>
<li>Cyclomatic complexity &lt; 10</li>
<li>Nesting depth &lt; 4 levels</li>
<li>Clear and easy to understand</li>
</ul>
</li>
</ul>
<h3 id="python-specific"><a class="header" href="#python-specific">Python-Specific</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Type hints are present</strong></p>
<pre><code class="language-python"># Good
async def get_task(task_id: str) -&gt; Optional[TaskContract]:
    ...

# Bad
async def get_task(task_id):
    ...
</code></pre>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Async/await used correctly</strong></p>
<ul>
<li>I/O operations are async</li>
<li><code>await</code> not missing</li>
<li>No blocking calls in async functions</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Error handling is proper</strong></p>
<ul>
<li>Specific exceptions caught</li>
<li>Context preserved (<code>raise ... from e</code>)</li>
<li>Errors logged with context</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Imports are organized</strong></p>
<ul>
<li>Standard library first</li>
<li>Third-party second</li>
<li>Local last</li>
<li>Alphabetically sorted</li>
</ul>
</li>
</ul>
<h3 id="rust-specific"><a class="header" href="#rust-specific">Rust-Specific</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Ownership and borrowing correct</strong></p>
<ul>
<li>No unnecessary clones</li>
<li>Lifetimes are clear</li>
<li>No memory leaks</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Error handling uses Result</strong></p>
<ul>
<li><code>?</code> operator for propagation</li>
<li>Errors are informative</li>
<li>Custom error types used</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>No <code>unwrap()</code> in production code</strong></p>
<ul>
<li>Use <code>?</code> or <code>match</code> instead</li>
<li>Document any necessary <code>expect()</code></li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Traits used appropriately</strong></p>
<ul>
<li>Generic code where beneficial</li>
<li>Trait bounds are clear</li>
</ul>
</li>
</ul>
<hr />
<h2 id="testing"><a class="header" href="#testing">Testing</a></h2>
<h3 id="test-coverage"><a class="header" href="#test-coverage">Test Coverage</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>New code has tests</strong></p>
<ul>
<li>Unit tests: 80-95% coverage</li>
<li>Integration tests for new features</li>
<li>E2E tests for user workflows</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Existing tests still pass</strong></p>
<ul>
<li>No tests removed without justification</li>
<li>Flaky tests fixed or documented</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Edge cases covered</strong></p>
<ul>
<li>Null/None values</li>
<li>Empty collections</li>
<li>Boundary conditions</li>
<li>Error conditions</li>
</ul>
</li>
</ul>
<h3 id="test-quality"><a class="header" href="#test-quality">Test Quality</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Tests are independent</strong></p>
<ul>
<li>No test dependencies</li>
<li>Can run in any order</li>
<li>Clean state between tests</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Tests are readable</strong></p>
<ul>
<li>Clear test names: <code>test_&lt;what&gt;_&lt;condition&gt;_&lt;expected&gt;</code></li>
<li>Arrange-Act-Assert pattern</li>
<li>Comments for complex setup</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Mocks are appropriate</strong></p>
<ul>
<li>External services mocked</li>
<li>Database calls mocked in unit tests</li>
<li>Mock behavior documented</li>
</ul>
</li>
</ul>
<h3 id="example-test-structure"><a class="header" href="#example-test-structure">Example Test Structure</a></h3>
<pre><code class="language-python">class TestOrchestrator:
    """Test orchestrator functionality."""

    @pytest.fixture
    def orchestrator(self):
        """Provide orchestrator instance."""
        return Orchestrator(config=test_config)

    async def test_route_task_finds_matching_arm(
        self,
        orchestrator
    ):
        """Test routing finds arm with matching capabilities."""
        # Arrange
        task = TaskContract(description="Write Python code")

        # Act
        arm = await orchestrator.route(task)

        # Assert
        assert arm.name == "coder"
        assert "python" in arm.capabilities
</code></pre>
<hr />
<h2 id="security"><a class="header" href="#security">Security</a></h2>
<h3 id="input-validation"><a class="header" href="#input-validation">Input Validation</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>All inputs validated</strong></p>
<ul>
<li>Pydantic models for API requests</li>
<li>SQL parameters escaped</li>
<li>File paths sanitized</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>No injection vulnerabilities</strong></p>
<ul>
<li>SQL: Use parameterized queries</li>
<li>Command: Avoid shell execution</li>
<li>Path: Validate and sanitize paths</li>
</ul>
</li>
</ul>
<pre><code class="language-python"># Good - parameterized
await db.execute(
    "SELECT * FROM tasks WHERE id = $1",
    task_id
)

# Bad - string formatting
await db.execute(
    f"SELECT * FROM tasks WHERE id = '{task_id}'"
)
</code></pre>
<h3 id="authentication--authorization"><a class="header" href="#authentication--authorization">Authentication &amp; Authorization</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
<strong>Authentication required</strong> for sensitive operations</li>
<li><input disabled="" type="checkbox"/>
<strong>Authorization checked</strong> before access</li>
<li><input disabled="" type="checkbox"/>
<strong>JWT tokens validated</strong> properly</li>
<li><input disabled="" type="checkbox"/>
<strong>Capability tokens enforced</strong> for arm access</li>
</ul>
<h3 id="data-protection"><a class="header" href="#data-protection">Data Protection</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>PII detection enabled</strong> for user input</p>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>No secrets in code</strong></p>
<ul>
<li>Use environment variables</li>
<li>Secrets manager integration</li>
<li>No hardcoded credentials</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Sensitive data encrypted</strong></p>
<ul>
<li>TLS for network traffic</li>
<li>Encryption at rest for sensitive fields</li>
<li>Secure key management</li>
</ul>
</li>
</ul>
<h3 id="audit-logging"><a class="header" href="#audit-logging">Audit Logging</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
<strong>Security events logged</strong>
<ul>
<li>Authentication failures</li>
<li>Authorization denials</li>
<li>PII detections</li>
<li>Suspicious activity</li>
</ul>
</li>
</ul>
<pre><code class="language-python">logger.warning(
    "authentication.failed",
    user_id=user_id,
    ip_address=request.client.host,
    reason="invalid_token"
)
</code></pre>
<hr />
<h2 id="performance"><a class="header" href="#performance">Performance</a></h2>
<h3 id="database-queries"><a class="header" href="#database-queries">Database Queries</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>No N+1 queries</strong></p>
<ul>
<li>Use joins instead of loops</li>
<li>Batch operations when possible</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Indexes exist</strong> for query columns</p>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Query limits</strong> applied for large results</p>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Connection pooling</strong> configured</p>
</li>
</ul>
<h3 id="async-operations"><a class="header" href="#async-operations">Async Operations</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>I/O operations are async</strong></p>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Concurrent execution</strong> where possible</p>
<ul>
<li><code>asyncio.gather()</code> for parallel ops</li>
<li>Avoid sequential awaits</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Semaphores</strong> for concurrency control</p>
<ul>
<li>Limit database connections</li>
<li>Limit external API calls</li>
</ul>
</li>
</ul>
<h3 id="caching"><a class="header" href="#caching">Caching</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Expensive operations cached</strong></p>
<ul>
<li>LLM capabilities</li>
<li>User permissions</li>
<li>Configuration</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Cache invalidation</strong> handled</p>
<ul>
<li>Clear on updates</li>
<li>TTL set appropriately</li>
</ul>
</li>
</ul>
<h3 id="resource-usage"><a class="header" href="#resource-usage">Resource Usage</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Memory usage reasonable</strong></p>
<ul>
<li>No memory leaks</li>
<li>Large datasets streamed</li>
<li>Generators for iteration</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>No blocking operations</strong> in async code</p>
<ul>
<li>CPU-intensive work in thread pool</li>
<li>File I/O is async</li>
</ul>
</li>
</ul>
<hr />
<h2 id="documentation"><a class="header" href="#documentation">Documentation</a></h2>
<h3 id="code-documentation"><a class="header" href="#code-documentation">Code Documentation</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
<strong>Public APIs documented</strong>
<ul>
<li>Docstrings for classes</li>
<li>Docstrings for public functions</li>
<li>Parameter descriptions</li>
<li>Return value descriptions</li>
<li>Example usage</li>
</ul>
</li>
</ul>
<pre><code class="language-python">async def route_task(
    task: TaskContract,
    available_arms: List[ArmCapability]
) -&gt; Optional[ArmCapability]:
    """Route task to most suitable arm.

    Args:
        task: Task to route
        available_arms: List of available arms

    Returns:
        Best matching arm, or None if no match

    Raises:
        ValidationError: If task is invalid

    Example:
        &gt;&gt;&gt; task = TaskContract(description="Write code")
        &gt;&gt;&gt; arm = await route_task(task, arms)
        &gt;&gt;&gt; assert arm.name == "coder"
    """
    ...
</code></pre>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Complex logic explained</strong></p>
<ul>
<li>Comments for non-obvious code</li>
<li>Algorithm explanations</li>
<li>Performance considerations</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>TODOs tracked</strong></p>
<ul>
<li>TODO comments have issue numbers</li>
<li><code># TODO(#123): Implement caching</code></li>
</ul>
</li>
</ul>
<h3 id="user-documentation"><a class="header" href="#user-documentation">User Documentation</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>README updated</strong> if needed</p>
<ul>
<li>New features documented</li>
<li>Installation steps current</li>
<li>Usage examples updated</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>API docs updated</strong> for API changes</p>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Migration guide</strong> for breaking changes</p>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>CHANGELOG updated</strong> with changes</p>
</li>
</ul>
<hr />
<h2 id="deployment"><a class="header" href="#deployment">Deployment</a></h2>
<h3 id="configuration"><a class="header" href="#configuration">Configuration</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Environment variables documented</strong></p>
<ul>
<li>Required variables listed</li>
<li>Default values specified</li>
<li>Examples provided</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Configuration validated</strong> at startup</p>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Secrets management</strong> configured</p>
<ul>
<li>No secrets in code</li>
<li>Vault/KMS integration</li>
</ul>
</li>
</ul>
<h3 id="database-changes"><a class="header" href="#database-changes">Database Changes</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Migrations provided</strong> for schema changes</p>
<ul>
<li>Forward migration</li>
<li>Rollback migration</li>
<li>Tested on production-like data</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Migrations are idempotent</strong></p>
<ul>
<li>Can run multiple times safely</li>
<li><code>CREATE INDEX CONCURRENTLY</code></li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Data migrations</strong> handled</p>
<ul>
<li>Backfill scripts provided</li>
<li>Performance tested</li>
</ul>
</li>
</ul>
<h3 id="deployment-safety"><a class="header" href="#deployment-safety">Deployment Safety</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
<strong>Backward compatible</strong> or breaking changes documented</li>
<li><input disabled="" type="checkbox"/>
<strong>Feature flags</strong> for risky changes</li>
<li><input disabled="" type="checkbox"/>
<strong>Rollback plan</strong> documented</li>
<li><input disabled="" type="checkbox"/>
<strong>Monitoring alerts</strong> configured for new code</li>
</ul>
<h3 id="dockerkubernetes"><a class="header" href="#dockerkubernetes">Docker/Kubernetes</a></h3>
<ul>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Dockerfile optimized</strong></p>
<ul>
<li>Multi-stage builds</li>
<li>Minimal base image</li>
<li>Layer caching optimized</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Health checks defined</strong></p>
<ul>
<li>Liveness probe</li>
<li>Readiness probe</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox"/>
<strong>Resource limits set</strong></p>
<ul>
<li>CPU limits</li>
<li>Memory limits</li>
<li>Appropriate for workload</li>
</ul>
</li>
</ul>
<hr />
<h2 id="review-comments"><a class="header" href="#review-comments">Review Comments</a></h2>
<h3 id="providing-feedback"><a class="header" href="#providing-feedback">Providing Feedback</a></h3>
<p><strong>Good Feedback</strong>:</p>
<pre><code>**Issue**: This query could cause N+1 problem

**Suggestion**: Consider using a join instead:
```python
tasks = await db.fetch("""
    SELECT t.*, u.name
    FROM tasks t
    JOIN users u ON t.user_id = u.id
""")
</code></pre>
<p><strong>Reason</strong>: Reduces database roundtrips from N+1 to 1</p>
<pre><code>
**Poor Feedback**:
</code></pre>
<p>This is slow</p>
<pre><code>
### Comment Prefixes

- **[Nit]**: Minor style/formatting issue
- **[Question]**: Need clarification
- **[Suggestion]**: Optional improvement
- **[Issue]**: Must be addressed
- **[Critical]**: Security/correctness issue

### Example Comments

</code></pre>
<p>[Issue] Missing error handling
This function doesn't handle the case where the database connection fails.
Consider adding try/except with proper logging.</p>
<p>[Suggestion] Consider caching
This function is called frequently. Consider caching the result
with a TTL of 5 minutes to reduce database load.</p>
<p>[Question] Why async here?
This function doesn't perform any async operations. Should it be sync?</p>
<p>[Nit] Line too long
This line exceeds 100 characters. Consider breaking it up.</p>
<pre><code>
---

## Review Approval

### Before Approving

- [ ] All checklist items reviewed
- [ ] Comments addressed or discussed
- [ ] CI checks passing
- [ ] No security concerns
- [ ] Code meets quality standards
- [ ] Documentation sufficient
- [ ] Tests adequate

### Approval Comments

**Good Approval**:
</code></pre>
<p>LGTM! Nice improvements to the routing logic.</p>
<p>Minor suggestions:</p>
<ul>
<li>Consider adding a cache for arm capabilities</li>
<li>Could extract the scoring logic to a separate function</li>
</ul>
<p>But these can be done in a follow-up PR.</p>
<pre><code>
**Request Changes**:
</code></pre>
<p>Requesting changes for:</p>
<ol>
<li>Security: Missing input validation (see inline comments)</li>
<li>Testing: No tests for error cases</li>
<li>Performance: N+1 query in get_tasks_with_users()</li>
</ol>
<p>Please address these before merging.</p>
<pre><code>
---

## Merge Checklist

Before merging, ensure:

- [ ] ≥1 approval from reviewer
- [ ] All conversations resolved
- [ ] CI checks passing
- [ ] Branch up to date with main
- [ ] Squash commits if needed
- [ ] Merge commit message clear

---

## References

- [OctoLLM Coding Standards](./coding-standards.md)
- [OctoLLM Error Handling](./error-handling.md)
- [OctoLLM Testing Strategy](../testing/strategy.md)
- [OctoLLM Security Overview](../security/overview.md)

---

**Last Review**: 2025-11-10
**Next Review**: 2026-02-10 (Quarterly)
**Owner**: Engineering Team
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../security/gitleaks-configuration-audit.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../engineering/coding-standards.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../security/gitleaks-configuration-audit.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../engineering/coding-standards.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
